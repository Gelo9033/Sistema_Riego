<p align ="center"> 
    <img src="/imagenes/postgres.png" alt="Logo" width="100" height="90">
  </a>
</p>
<h1>BASE DE DATOS ->  RosasMonteserin</h1>

CREATE DATABASE "RosasMonteserin";

CREATE SCHEMA "Sensores";

CREATE TABLE "Sensores".FCAT_SENSOR (
  CAT_IDSENSOR     SERIAL PRIMARY KEY,
  CAT_DESCRIPCION  TEXT NOT NULL UNIQUE,
  CAT_TIPO         TEXT NOT NULL,
  CAT_UNIMEDIDA    TEXT NOT NULL,
  CAT_ESTADO       CHAR(1) NOT NULL DEFAULT '1',
  CAT_FECHCREA     TIMESTAMPTZ NOT NULL DEFAULT NOW()
);

CREATE TABLE "Sensores".FLEC_SENSOR (
  LEC_IDLECTURA     SERIAL PRIMARY KEY,
  LEC_CATIDESENS    INTEGER NOT NULL REFERENCES "Sensores".FCAT_SENSOR (CAT_IDSENSOR) 
                     ON DELETE CASCADE ON UPDATE CASCADE,
  LEC_LECTURA       DOUBLE PRECISION NOT NULL,
  LEC_FECHLECTURA   TIMESTAMPTZ NOT NULL DEFAULT NOW()
);


CREATE USER lfgelo WITH PASSWORD '12345';


GRANT USAGE, CREATE, TEMP "Sensores" TO lfgelo;


GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA "Sensores" TO lfgelo;


GRANT ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA "Sensores" TO lfgelo;


ALTER DEFAULT PRIVILEGES IN SCHEMA "Sensores"
GRANT ALL PRIVILEGES ON TABLES TO lfgelo;

ALTER DEFAULT PRIVILEGES IN SCHEMA "Sensores"
GRANT ALL PRIVILEGES ON SEQUENCES TO lfgelo;
